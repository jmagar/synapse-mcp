# synapse-mcp Environment Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# HTTP Server (only used with --http transport mode)
# =============================================================================

# Server port (default: 3000)
SYNAPSE_PORT=3000

# Server host/bind address (default: 127.0.0.1)
# Use 0.0.0.0 to listen on all interfaces
SYNAPSE_HOST=127.0.0.1

# =============================================================================
# Host Configuration
# =============================================================================

# Explicit path to config file (optional)
# If not set, searches: ./synapse.config.json, ~/.config/synapse-mcp/config.json, ~/.synapse-mcp.json
# SYNAPSE_CONFIG_FILE=/path/to/synapse.config.json

# JSON array of host configurations (fallback if no config file found)
# SYNAPSE_HOSTS_CONFIG='[{"name":"unraid","host":"unraid.local","port":2375,"protocol":"http"},{"name":"proxmox","host":"proxmox.local","port":2375,"protocol":"http"}]'

# Default host to use when no host is specified in requests
# SYNAPSE_DEFAULT_HOST=unraid

# =============================================================================
# NOTE: SSH Connection Pool variables removed
# =============================================================================
# SSH connection pooling IS implemented with hardcoded defaults.
# Environment variables for the pool are not yet exposed.
# Reference src/services/ssh-pool.ts for the default values.

# =============================================================================
# OAuth Configuration (HTTP Mode Only)
# =============================================================================

# Enable OAuth authentication for HTTP transport
# When enabled, synapse-mcp acts as an OAuth 2.1 Resource Server
# validating Google-issued JWT tokens (does NOT handle OAuth flow itself)
MCP_ENABLE_OAUTH=false

# Google OAuth Client ID (REQUIRED if OAuth enabled)
# Get from: https://console.cloud.google.com/apis/credentials
# Used to validate JWT audience claim
# GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com

# Server URL for metadata endpoints (REQUIRED if OAuth enabled)
# Used in Protected Resource Metadata (RFC 9728)
# SERVER_URL=http://localhost:3000

# NOTE: Synapse-MCP does NOT need:
# - GOOGLE_CLIENT_SECRET (we don't handle OAuth flow)
# - MCP_OAUTH_SECRET (we don't issue JWTs)
# - REDIS_URL (stateless JWT validation only)
# - OAuth redirect URIs (MCP client handles the flow)
